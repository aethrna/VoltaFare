# Voltafare - Energy Tracking Mobile App

Voltafare is an Android mobile application built with Kotlin that helps users track their energy consumption, manage their devices, and encourages energy-saving habits through a gamified system of achievements and daily bounties. It also provides AI-powered recommendations to further optimize energy usage.

## Features

  * **User Authentication**: Secure user registration and login functionality.
  * **Device Management**: Users can add, track the usage of, and manage their household devices, including turning them on/off within the app.
  * **Energy Consumption Tracking & Visualization**: Monitor weekly energy consumption with an interactive chart on the main dashboard.
  * **Achievements System**: A gamified system where users can unlock achievements based on their energy-saving progress and app engagement.
  * **Daily Bounties/Tasks**: Engage users with daily challenges to promote consistent energy-saving actions.
  * **AI-powered Energy Saving Recommendations**: Utilizes the Google Gemini API to provide personalized and actionable tips for reducing energy usage and saving money.
  * **User Profile Management**: Customize display name, title, and profile picture.

## Technologies Used

  * **Kotlin**: The primary programming language for Android application development.
  * **Android SDK**: Compiled with SDK 35 and a minimum SDK of 30.
  * **Gradle**: Build automation tool.
  * **SQLite**: Used for local database storage (`DBHelper` and `DevDBHelper`) to manage user profiles, devices, achievements, bounties, and energy logs.
  * **MPAndroidChart**: A powerful charting library for Android used for visualizing weekly energy consumption.
  * **CircleImageView**: For displaying circular profile images.
  * **Google Gemini API**: Integrated for generating smart energy-saving recommendations.
  * **Compose**: Android's modern toolkit for building native UI.

## Getting Started

### Prerequisites

Before you begin, ensure you have the following installed:

  * Android Studio
  * Java Development Kit (JDK) 11 or higher. The project is configured to use JDK 21 by default.

### Installation

1.  **Clone the repository:**
    ```bash
    git clone [repository-url]
    cd VoltaFare-master
    ```
2.  **Open in Android Studio:**
    Open the cloned `VoltaFare-master` directory as an Android Studio project.
3.  **Sync Gradle:**
    Allow Android Studio to sync the Gradle project dependencies.
4.  **Set up Gemini API Key:**
    In `app/src/main/java/com/example/energysaving/RecommendationsActivity.kt`, replace `"GEMINI_API_KEY"` with your actual Google Gemini API Key.

## Usage

1.  **Launch the App**: When you first launch the app, you'll be directed to the `StartActivity`.
2.  **Register or Log In**: Create a new account or log in with existing credentials.
3.  **Add Devices**: As a new user, you'll be prompted to add your first device. Otherwise, navigate to the "Add Device" floating action button (located in the bottom navigation bar) to add new energy-consuming devices. Provide details such as device type, name, watt usage, and daily usage goal.
4.  **Dashboard**: View your weekly energy consumption visualized in a chart.
5.  **Achievements**: Track your progress and unlock achievements by engaging with the app and managing your energy usage effectively.
6.  **Bounties**: Complete daily bounties to earn XP and stay motivated.
7.  **Recommendations**: Get personalized energy-saving tips generated by the Gemini AI.
8.  **Profile**: Manage your user profile, including display name, title, and profile picture.

## Database Schema

The application uses SQLite to store user and device data. Key tables include:

  * **`users`**: Stores user authentication and profile information.
      * `email` (PRIMARY KEY)
      * `password`
      * `display_name`
      * `display_title`
      * `profile_image_uri`
      * `xp` (Experience Points)
      * `level`
  * **`devices`**: Stores details about each registered device.
      * `id` (PRIMARY KEY)
      * `name` (Device Type)
      * `description` (Specific Device Name)
      * `watt_usage`
      * `daily_hours_goal`
      * `is_on`
      * `user_id` (Foreign Key to `users.email`)
      * `time_used_today_seconds`
      * `last_reset_date`
      * `last_turn_on_timestamp_millis`
      * `goal_exceeded_alert_sent_today`
  * **`daily_energy_logs`**: Logs daily energy consumption for each user.
      * `log_id` (PRIMARY KEY)
      * `log_date`
      * `total_kwh`
      * `user_id` (Foreign Key to `users.email`)
  * **`user_achievements`**: Tracks the status of achievements for each user.
      * `achievement_id` (PRIMARY KEY)
      * `user_id` (Foreign Key to `users.email`)
      * `ach_def_id` (Achievement Definition ID)
      * `title`
      * `description`
      * `icon_res_name`
      * `unlocked` (Boolean)
      * `progress_current`
      * `progress_target`
      * `unlocked_date`
  * **`user_bounties`**: Manages daily bounties for each user.
      * `bounty_id` (PRIMARY KEY)
      * `user_id` (Foreign Key to `users.email`)
      * `bounty_def_id` (Bounty Definition ID)
      * `title`
      * `description`
      * `xp_reward`
      * `icon_res_name`
      * `completed` (Boolean)
      * `progress_current`
      * `progress_target`
      * `last_reset_date`

## Contributing

(In progress)

## License

The Font Software (Nunito) used in this project is licensed under the SIL Open Font License, Version 1.1. You can find the full license text in [OFL.txt](https://www.google.com/search?q=uploaded:aethrna/voltafare/VoltaFare-master/app/src/main/res/font/Nunito/OFL.txt). This license allows the fonts to be used, studied, modified, and redistributed freely as long as they are not sold by themselves.
